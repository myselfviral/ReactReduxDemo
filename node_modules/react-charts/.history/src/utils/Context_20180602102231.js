import React from 'react'

const Context = React.createContext({})

export default Context

export const Connect = (subscribe, options) => {
  const subscriber = typeof subscribe({}) === 'function' ? subscribe() : subscribe

  return Comp => props => (
    <Context.Consumer>{state => <Comp {...subscriber(state)} {...props} />}</Context.Consumer>
  )
}
